<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI求职助手 | 简洁版</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f6f7f3;
      --card: #fff;
      --line: #dfdfd7;
      --text: #101010;
      --muted: #63635d;
      --main: #111;
      --main-hover: #242424;
      --ok: #136a37;
      --err: #ad2c2c;
      --radius: 14px;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: "Noto Sans SC", "Manrope", sans-serif;
      color: var(--text);
      background:
        radial-gradient(1100px 400px at -10% -10%, #eceee4 0%, transparent 50%),
        radial-gradient(800px 260px at 110% -20%, #eceee4 0%, transparent 40%),
        var(--bg);
      min-height: 100vh;
    }
    .wrap { max-width: 1120px; margin: 0 auto; padding: 18px; }
    .nav {
      height: 56px;
      border: 1px solid var(--line);
      border-radius: 999px;
      background: var(--card);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 16px;
      margin-bottom: 14px;
    }
    .logo { font: 800 16px/1 "Manrope", sans-serif; }
    .nav a { text-decoration: none; color: var(--muted); margin-left: 14px; font-size: 13px; }

    .hero {
      border: 1px solid var(--line);
      background: var(--card);
      border-radius: var(--radius);
      padding: 22px;
      display: grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 16px;
    }
    h1 { font: 800 42px/1.06 "Manrope", sans-serif; margin-bottom: 10px; letter-spacing: -.6px; }
    .sub { color: var(--muted); font-size: 15px; line-height: 1.65; max-width: 720px; }

    .kpis { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 14px; }
    .kpi { border: 1px solid var(--line); border-radius: 10px; padding: 10px; background: #fbfbf8; }
    .kpi b { display: block; font: 800 20px/1 "Manrope", sans-serif; margin-bottom: 4px; }
    .kpi span { font-size: 12px; color: var(--muted); }

    .ctas { display: flex; gap: 8px; margin-top: 14px; flex-wrap: wrap; }
    .btn {
      text-decoration: none;
      border: 1px solid var(--line);
      border-radius: 10px;
      padding: 10px 14px;
      font: 700 13px/1 "Manrope", sans-serif;
      background: #fff;
      color: var(--text);
      cursor: pointer;
    }
    .btn-main { background: var(--main); color: #fff; border-color: var(--main); }
    .btn-main:hover { background: var(--main-hover); }

    .lead {
      border: 1px solid var(--line);
      border-radius: 10px;
      padding: 12px;
      background: #fbfbf8;
    }
    .lead h3 { font: 700 14px/1 "Manrope", sans-serif; margin-bottom: 8px; }
    .lead .hint { color: var(--muted); font-size: 12px; margin-bottom: 8px; }
    .row { margin-bottom: 8px; }
    .row label { font-size: 12px; color: var(--muted); margin-bottom: 3px; display: block; }
    .row input, .row select, .row textarea {
      width: 100%;
      border: 1px solid var(--line);
      border-radius: 8px;
      padding: 8px;
      font: 13px/1.4 "Noto Sans SC", sans-serif;
      background: #fff;
    }
    .row textarea { min-height: 72px; resize: vertical; }
    .msg { margin-top: 6px; font-size: 12px; }
    .ok { color: var(--ok); }
    .err { color: var(--err); }

    .strip {
      margin-top: 12px;
      border: 1px solid var(--line);
      border-radius: var(--radius);
      background: var(--card);
      padding: 14px;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }
    .strip .item { border: 1px solid var(--line); border-radius: 10px; padding: 10px; background: #fff; }
    .strip h4 { font-size: 13px; margin-bottom: 4px; }
    .strip p { color: var(--muted); font-size: 12px; line-height: 1.6; }

    .foot { text-align: center; color: var(--muted); font-size: 12px; margin: 14px 0 8px; }

    @media (max-width: 930px) {
      .hero { grid-template-columns: 1fr; }
      .kpis, .strip { grid-template-columns: 1fr; }
      h1 { font-size: 34px; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header class="nav">
      <div class="logo">AI求职助手</div>
      <nav>
        <a href="/app">分析工作台</a>
        <a href="/api/health" target="_blank">服务状态</a>
      </nav>
    </header>

    <section class="hero">
      <div>
        <h1>上传简历，直接得到可投递结果</h1>
        <p class="sub">系统会输出职业分析、真实岗位链接、优化简历和面试准备。默认启用云端可运行的数据源回退，不依赖本地浏览器插件。</p>
        <div class="kpis">
          <div class="kpi"><b>24h</b><span>云端持续在线</span></div>
          <div class="kpi"><b>真实链接</b><span>岗位可直接跳转投递</span></div>
          <div class="kpi"><b>可验证</b><span>内置健康检查与版本接口</span></div>
        </div>
        <div class="ctas">
          <a class="btn btn-main" href="/app">立即开始</a>
          <a class="btn" href="/api/version" target="_blank">查看版本</a>
        </div>
      </div>

      <aside class="lead">
        <h3>试用登记 / 商务咨询</h3>
        <p class="hint">用于收集早期用户和企业线索，支持后续商业化。</p>
        <div class="row">
          <label for="leadEmail">邮箱</label>
          <input id="leadEmail" placeholder="you@company.com" />
        </div>
        <div class="row">
          <label for="leadName">姓名</label>
          <input id="leadName" placeholder="张三" />
        </div>
        <div class="row">
          <label for="leadCompany">公司/学校</label>
          <input id="leadCompany" placeholder="某某科技" />
        </div>
        <div class="row">
          <label for="leadBudget">预算区间</label>
          <select id="leadBudget">
            <option value="">未确定</option>
            <option>个人版（< 99/月）</option>
            <option>小团队（99-999/月）</option>
            <option>企业版（1000+/月）</option>
          </select>
        </div>
        <div class="row">
          <label for="leadUseCase">使用场景</label>
          <textarea id="leadUseCase" placeholder="例如：批量优化校招简历，提高面试通过率"></textarea>
        </div>
        <button class="btn btn-main" id="leadSubmit" type="button">提交线索</button>
        <div class="msg" id="leadMsg"></div>
      </aside>
    </section>

    <section class="strip">
      <article class="item">
        <h4>求职端</h4>
        <p>自动输出职业分析、岗位推荐、简历优化和面试问答。</p>
      </article>
      <article class="item">
        <h4>运营端</h4>
        <p>已提供线索收集和漏斗指标接口，便于增长复盘和融资展示。</p>
      </article>
      <article class="item">
        <h4>部署端</h4>
        <p>默认 Railway，支持 Cloudflare 前端分发，整体成本可控。</p>
      </article>
    </section>

    <div class="foot">© 2026 AI求职助手</div>
  </div>

  <script>
    const leadBtn = document.getElementById('leadSubmit');
    const leadMsg = document.getElementById('leadMsg');

    leadBtn.addEventListener('click', async () => {
      leadMsg.textContent = '';
      const payload = {
        email: document.getElementById('leadEmail').value.trim(),
        name: document.getElementById('leadName').value.trim(),
        company: document.getElementById('leadCompany').value.trim(),
        budget: document.getElementById('leadBudget').value,
        use_case: document.getElementById('leadUseCase').value.trim(),
        source: 'landing'
      };

      if (!payload.email || !payload.email.includes('@')) {
        leadMsg.className = 'msg err';
        leadMsg.textContent = '请先填写有效邮箱';
        return;
      }

      leadBtn.disabled = true;
      leadBtn.textContent = '提交中...';
      try {
        const res = await fetch('/api/business/lead', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });
        const data = await res.json();
        if (!res.ok || !data.success) {
          throw new Error(data.error || '提交失败');
        }
        leadMsg.className = 'msg ok';
        leadMsg.textContent = '提交成功，我们会尽快联系你。';
      } catch (err) {
        leadMsg.className = 'msg err';
        leadMsg.textContent = '提交失败：' + (err.message || 'unknown error');
      } finally {
        leadBtn.disabled = false;
        leadBtn.textContent = '提交线索';
      }
    });
  </script>
</body>
</html>
